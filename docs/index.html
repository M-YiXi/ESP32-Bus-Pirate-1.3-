<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <title>ESP32 总线海盗 烧录工具</title>
  <link rel="icon" type="image/png" href="favicon.png" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
  <!-- ESP Web Tools -->
  <script type="module" src="https://unpkg.com/esp-web-tools@10/dist/web/install-button.js?module"></script>
</head>
<body>
  <div class="wrap">
    <!-- 标题 ASCII 艺术字保持不变 -->
    <pre class="ascii-title" aria-hidden="true">
  ____              ____  _           _         _____ _           _               
 | __ ) _   _ ___  |  _ \(_)_ __ __ _| |_ ___  |  ___| | __ _ ___| |__   ___ _ __ 
 |  _ \| | | / __| | |_) | | '__/ _` | __/ _ \ | |_  | |/ _` / __| '_ \ / _ \ '__|
 | |_) | |_| \__ \ |  __/| | | | (_| | ||  __/ |  _| | | (_| \__ \ | | |  __/ |   
 |____/ \__,_|___/ |_|   |_|_|  \__,_|\__\___| |_|   |_|\__,_|___/_| |_|\___|_|   

              在线工具，用于将固件1.3烧录到您的 ESP32-S3 由梦亦煕汉化                                                                                                                                                  
    </pre>

    <!-- 开发板选择 -->
    <h3>开发板</h3>
    <div id="boards" class="boards-grid" role="listbox" aria-label="选择开发板">
      <button class="card" data-key="cardputeradv">Cardputer ADV</button>
      <button class="card" data-key="cardputer">Cardputer</button>
      <button class="card" data-key="stamps3">Stamp-S3</button>
      <button class="card" data-key="atoms3lite">Atom-S3 Lite</button>
      <button class="card" data-key="sticks3">Stick-S3</button>
      <button class="card" data-key="s3devkit">ESP32-S3 DevKit</button>
      <button class="card" data-key="tembed">T-Embed</button>
      <button class="card" data-key="tembedcc1101">T-Embed CC1101</button>
      <button class="card" data-key="xiaoesp32s3">Xiao ESP32-S3</button>
      <button class="card" data-key="s3devkitn16r8">ESP32-S3 N16R8</button> 
    </div>

    <!-- 烧录区域 -->
    <div class="flash-area">
      <esp-web-install-button id="flashEl">
        <button id="flashBtn" class="flash-btn" slot="activate" disabled>⚡ 烧录</button>
        <span slot="unsupported">浏览器不支持 Web 串口。</span>
        <span slot="not-allowed">需要 HTTPS（或 localhost）。</span>
      </esp-web-install-button>
      <small id="flashHint" class="muted">请先选择上面的开发板。</small>
    </div>

    <!-- 提示 -->
    <h3>提示</h3>
    <section class="tips-grid">
      <div class="tip-card"><h4>Cardputer</h4><p>关闭电源并拔掉USB。按住 <b>G0</b>（右上角），然后插上USB（保持按住）。</p></div>
      <div class="tip-card"><h4>Stamp-S3</h4><p>在上电或插入USB前按住 <b>BOOT</b> 按钮，以进入烧录模式。</p></div>
      <div class="tip-card"><h4>Atom-S3 Lite</h4><p>上电后按下 <b>RESET</b> 按钮3秒，或直到LED闪烁绿色。</p></div>
      <div class="tip-card"><h4>Stick-S3</h4><p>长按 <b>POWER</b> 按钮直到LED闪烁。</p></div>
      <div class="tip-card"><h4>T-Embed</h4><p>按住编码器<b>中心按钮</b>，然后按 <b>RESET</b>。<br>（CC1101版本：按钮在ESP32-S3旁边。）</p></div>
      <div class="tip-card"><h4>ESP32-S3 DevKit</h4><p>确保将USB插入COM编程口，按住 <b>BOOT</b> 按钮然后上电。</p></div>
      <div class="tip-card"><h4>Xiao ESP32-S3</h4><p>在上电或插入USB前按住 <b>BOOT</b> 按钮，以进入烧录模式。</p></div>
      <div class="tip-card"><h4>Linux 用户</h4><p>如果烧录失败，运行：<br><code>sudo setfacl -m u:$USER:rw /dev/ttyACM0</code><br>这将授予串口访问权限。</p></div>
    </section>

  <!-- Wiki 链接 -->
  <footer class="wiki-cta">
    <a href="https://github.com/geo-tp/ESP32-Bus-Pirate/wiki" target="_blank" rel="noopener">
      📖 每种模式和命令的详细指南
    </a>
  </footer>

  <script type="module" src="scripts.js"></script>
</body>
</html>